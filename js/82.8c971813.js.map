{"version":3,"file":"js/82.8c971813.js","mappings":"+IAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,KAAOJ,EAAIK,SAAS,OAAS,GAAG,OAAS,GAAG,yBAAyBL,EAAIM,WAAW,CAACJ,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,KAAK,MAAQ,KAAK,MAAQ,KAAK,MAAQ,YAAYF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,WAAW,MAAQ,OAAO,MAAQ,SAASF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,WAAW,MAAQ,OAAO,MAAQ,SAASF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,MAAMG,YAAYP,EAAIQ,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,UAAS,IAACC,EAAG,OAACC,IAAS,MAAO,CAACV,EAAG,YAAY,CAACW,YAAY,CAAC,QAAU,WAAW,YAAY,QAAQT,MAAM,CAAC,KAAO,WAAWU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIgB,aAAaL,EAAI,IAAI,CAACX,EAAIiB,GAAG,MAAMf,EAAG,IAAI,CAACgB,YAAY,uBAAuBL,YAAY,CAAC,eAAe,WAAWX,EAAG,YAAY,CAACW,YAAY,CAAC,QAAU,WAAW,YAAY,QAAQT,MAAM,CAAC,KAAO,UAAUU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAImB,eAAeR,EAAI,IAAI,CAACX,EAAIiB,GAAG,MAAMf,EAAG,IAAI,CAACgB,YAAY,uBAAuBL,YAAY,CAAC,eAAe,WAAW,QAAQ,GAAGX,EAAG,MAAM,CAACW,YAAY,CAAC,QAAU,WAAW,CAACX,EAAG,gBAAgB,CAACW,YAAY,CAAC,aAAa,UAAUT,MAAM,CAAC,aAAaJ,EAAIoB,UAAU,YAAYpB,EAAIqB,SAAS,YAAcrB,EAAIsB,YAAY,OAAS,0CAA0C,MAAQtB,EAAIuB,OAAOT,GAAG,CAAC,iBAAiBd,EAAIwB,oBAAoB,cAAcxB,EAAIyB,qBAAqB,GAAGvB,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,SAAS,QAAUJ,EAAI0B,mBAAmBZ,GAAG,CAAC,iBAAiB,SAASC,GAAQf,EAAI0B,kBAAkBX,CAAM,IAAI,CAACb,EAAG,UAAU,CAACW,YAAY,CAAC,MAAQ,OAAOT,MAAM,CAAC,MAAQJ,EAAI2B,cAAc,CAACzB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,cAAc,UAAU,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,aAAe,OAAOwB,MAAM,CAACC,MAAO7B,EAAI2B,YAAYG,SAAUC,SAAS,SAAUC,GAAMhC,EAAIiC,KAAKjC,EAAI2B,YAAa,WAAYK,EAAI,EAAEE,WAAW,2BAA2B,GAAGhC,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,cAAc,UAAU,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,aAAe,OAAOwB,MAAM,CAACC,MAAO7B,EAAI2B,YAAYQ,SAAUJ,SAAS,SAAUC,GAAMhC,EAAIiC,KAAKjC,EAAI2B,YAAa,WAAYK,EAAI,EAAEE,WAAW,2BAA2B,GAAGhC,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,cAAc,UAAU,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,aAAe,OAAOwB,MAAM,CAACC,MAAO7B,EAAI2B,YAAYS,KAAML,SAAS,SAAUC,GAAMhC,EAAIiC,KAAKjC,EAAI2B,YAAa,OAAQK,EAAI,EAAEE,WAAW,uBAAuB,GAAGhC,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,cAAc,UAAU,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,aAAe,OAAOwB,MAAM,CAACC,MAAO7B,EAAI2B,YAAYE,MAAOE,SAAS,SAAUC,GAAMhC,EAAIiC,KAAKjC,EAAI2B,YAAa,QAASK,EAAI,EAAEE,WAAW,wBAAwB,GAAGhC,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,cAAc,UAAU,CAACF,EAAG,eAAe,CAAC0B,MAAM,CAACC,MAAO7B,EAAI2B,YAAYU,QAASN,SAAS,SAAUC,GAAMhC,EAAIiC,KAAKjC,EAAI2B,YAAa,UAAWK,EAAI,EAAEE,WAAW,0BAA0B,IAAI,GAAGhC,EAAG,MAAM,CAACgB,YAAY,gBAAgBd,MAAM,CAAC,KAAO,UAAUkC,KAAK,UAAU,CAACpC,EAAG,YAAY,CAACY,GAAG,CAAC,MAAQ,SAASC,GAAQf,EAAI0B,mBAAoB,CAAK,IAAI,CAAC1B,EAAIiB,GAAG,SAASf,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIuC,aAAavC,EAAIW,IAAI,IAAI,CAACX,EAAIiB,GAAG,UAAUf,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAW,CAACJ,EAAIiB,GAAG,YAAY,IAAI,IAAI,EACvrG,EACIuB,EAAkB,GCyDtB,GACAC,KAAAA,WACAC,OACA,OACArC,SAAAA,GACAkB,MAAAA,EACAD,YAAAA,EACAD,SAAAA,GACAD,UAAAA,CAAAA,GAAAA,GAAAA,IACAd,SAAAA,WAEAoB,mBAAAA,EAEAiB,SAAAA,GAEAhB,YAAAA,CAAAA,EAEA,EACAiB,UACA,8BACA,mCACA,EACAC,QAAAA,CAEAC,yBACA,iDACAC,OAAAA,CACA1B,SAAAA,KAAAA,SACAC,YAAAA,KAAAA,eAEA,UACA,gBACA,qBACA,GAEA,EAEA0B,+BACA,6DACA,gBACA,wCACA,GAEA,EACAxB,oBAAAA,GACA,mBACA,6BACA,EACAC,iBAAAA,GACA,gBACA,6BACA,EAEAT,aAAAA,GACA,wBACA,yBACA,EACAG,eAAAA,GACA,mBACA8B,QAAAA,IAAAA,KAAAA,YAAAA,IACA,yCACAC,kBAAAA,KACAC,iBAAAA,KACAC,KAAAA,YACA,WACA,wCACAL,OAAAA,CACAM,GAAAA,KAAAA,YAAAA,MAEA,UACA,eACA,eACAD,KAAAA,UACAE,QAAAA,UAGA,gCACA,IACA,YACA,eACAF,KAAAA,OACAE,QAAAA,SACA,GAEA,EAEAf,eACA,mDAAAc,GAAAA,KAAAA,YAAAA,KAAA,UACA,eACA,eACAD,KAAAA,UACAE,QAAAA,SAEA,IAEA,yBACA,IC3JuQ,I,UCQnQC,GAAY,OACd,EACAxD,EACAyC,GACA,EACA,KACA,KACA,MAIF,EAAee,EAAiB,O","sources":["webpack://app/./src/views/Manager/HerbApproval/index.vue","webpack://app/src/views/Manager/HerbApproval/index.vue","webpack://app/./src/views/Manager/HerbApproval/index.vue?e20f","webpack://app/./src/views/Manager/HerbApproval/index.vue?8553"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-table',{attrs:{\"data\":_vm.herbList,\"border\":\"\",\"stripe\":\"\",\"header-cell-class-name\":_vm.headerBg}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"序号\",\"width\":\"50\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"herbname\",\"label\":\"草药名称\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"herbtype\",\"label\":\"草药类别\",\"width\":\"300\"}}),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row,$index}){return [_c('el-button',{staticStyle:{\"padding\":\"7px 10px\",\"font-size\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.approvalHerb(row)}}},[_vm._v(\"查看\"),_c('i',{staticClass:\"el-icon-edit-outline\",staticStyle:{\"padding-left\":\"2px\"}})]),_c('el-button',{staticStyle:{\"padding\":\"7px 10px\",\"font-size\":\"10px\"},attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteHerbInfo(row)}}},[_vm._v(\"删除\"),_c('i',{staticClass:\"el-icon-edit-outline\",staticStyle:{\"padding-left\":\"2px\"}})])]}}])})],1),_c('div',{staticStyle:{\"padding\":\"10px 0\"}},[_c('el-pagination',{staticStyle:{\"text-align\":\"center\"},attrs:{\"page-sizes\":_vm.pageSizes,\"page-size\":_vm.pageSize,\"currentPage\":_vm.currentPage,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange,\"size-change\":_vm.handleSizeChange}})],1),_c('el-dialog',{attrs:{\"title\":\"审核草药信息\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{staticStyle:{\"width\":\"80%\"},attrs:{\"model\":_vm.currentHerb}},[_c('el-form-item',{attrs:{\"label\":\"草药名称\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.currentHerb.herbname),callback:function ($$v) {_vm.$set(_vm.currentHerb, \"herbname\", $$v)},expression:\"currentHerb.herbname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"草药类别\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.currentHerb.herbtype),callback:function ($$v) {_vm.$set(_vm.currentHerb, \"herbtype\", $$v)},expression:\"currentHerb.herbtype\"}})],1),_c('el-form-item',{attrs:{\"label\":\"草药分布\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.currentHerb.city),callback:function ($$v) {_vm.$set(_vm.currentHerb, \"city\", $$v)},expression:\"currentHerb.city\"}})],1),_c('el-form-item',{attrs:{\"label\":\"分布情况\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.currentHerb.value),callback:function ($$v) {_vm.$set(_vm.currentHerb, \"value\", $$v)},expression:\"currentHerb.value\"}})],1),_c('el-form-item',{attrs:{\"label\":\"草药信息\",\"label-width\":\"100px\"}},[_c('quill-editor',{model:{value:(_vm.currentHerb.content),callback:function ($$v) {_vm.$set(_vm.currentHerb, \"content\", $$v)},expression:\"currentHerb.content\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.HerbApproval(_vm.row)}}},[_vm._v(\"审核通过\")]),_c('el-button',{attrs:{\"type\":\"danger\"}},[_vm._v(\"审核不通过\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n      <el-table :data=\"herbList\" border stripe :header-cell-class-name=\"headerBg\">\r\n        <el-table-column prop=\"id\" label=\"序号\" width=\"50\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"herbname\" label=\"草药名称\" width=\"200\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"herbtype\" label=\"草药类别\" width=\"300\">\r\n        </el-table-column>\r\n        <el-table-column  prop=\"\" label=\"操作\">\r\n          <template slot-scope=\"{row,$index}\">\r\n            <el-button type=\"primary\" style=\"padding:7px 10px;font-size:10px;\" @click=\"approvalHerb(row)\">查看<i class=\"el-icon-edit-outline\" style=\"padding-left:2px;\"></i></el-button>\r\n            <el-button type=\"danger\" style=\"padding:7px 10px;font-size:10px;\" @click=\"deleteHerbInfo(row)\">删除<i class=\"el-icon-edit-outline\" style=\"padding-left:2px;\"></i></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <div style=\"padding:10px 0;\">\r\n        <el-pagination\r\n          @current-change=\"handleCurrentChange\"\r\n          @size-change=\"handleSizeChange\"\r\n          style=\"text-align:center\"\r\n          :page-sizes=\"pageSizes\"\r\n          :page-size=\"pageSize\"\r\n          :currentPage=\"currentPage\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\">\r\n        </el-pagination>\r\n      </div>\r\n\r\n      <!-- 对话框 visible.sync -->\r\n      <el-dialog title=\"审核草药信息\" :visible.sync=\"dialogFormVisible\">\r\n        <el-form style=\"width:80%;\" :model=\"currentHerb\">\r\n          <el-form-item label=\"草药名称\" label-width=\"100px\">\r\n            <el-input v-model=\"currentHerb.herbname\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"草药类别\" label-width=\"100px\">\r\n            <el-input v-model=\"currentHerb.herbtype\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"草药分布\" label-width=\"100px\">\r\n            <el-input v-model=\"currentHerb.city\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"分布情况\" label-width=\"100px\">\r\n            <el-input v-model=\"currentHerb.value\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"草药信息\" label-width=\"100px\">\r\n            <quill-editor v-model=\"currentHerb.content\"></quill-editor>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"HerbApproval(row)\">审核通过</el-button>\r\n          <el-button type=\"danger\">审核不通过</el-button>\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n      name:'Articles',\r\n      data(){\r\n          return{\r\n              herbList:[],\r\n              total: 0,\r\n              currentPage: 1,\r\n              pageSize: 12,\r\n              pageSizes: [12,15,20],\r\n              headerBg:'headerBg',\r\n              //对话框控制显示与隐藏\r\n              dialogFormVisible:false,\r\n              //上传图片\r\n              imageUrl: '',\r\n              //收集到的当前点击的信息\r\n              currentHerb:{}\r\n          }\r\n      },\r\n      mounted(){\r\n          this.getNotApprovalHerbInfo()\r\n          this.getNotApprovalHerbInfoLength()\r\n      },\r\n      methods:{\r\n          //获取文章数据\r\n          getNotApprovalHerbInfo(){\r\n            this.$axios.get('/admin/getNotApprovalHerbInfo',{\r\n              params:{\r\n                  pageSize:this.pageSize,\r\n                  currentPage:this.currentPage,\r\n              }\r\n            }).then(res=>{\r\n              if(res.status == 200){\r\n                this.herbList = res.data\r\n              }\r\n            })\r\n          },\r\n          //获取待审核的文章数量\r\n          getNotApprovalHerbInfoLength(){\r\n            this.$axios.get('/admin/getNotApprovalHerbLength').then(res=>{\r\n              if(res.status == 200){\r\n                this.total = JSON.parse(res.data[0].length)\r\n              }\r\n            })\r\n          },\r\n          handleCurrentChange(pager){\r\n            this.currentPage = pager\r\n            this.getNotApprovalHerbInfo()\r\n          },\r\n          handleSizeChange(limit){\r\n            this.pageSize = limit\r\n            this.getNotApprovalHerbInfo()\r\n          },\r\n          // 点击查看详情按钮\r\n          approvalHerb(row){\r\n            this.currentHerb = {...row}\r\n            this.dialogFormVisible = true\r\n          },\r\n          deleteHerbInfo(row){\r\n            this.currentherb = row\r\n            console.log(this.currentherb.id);\r\n            this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n            }).then(() => {\r\n            this.$axios.delete('/admin/deleteHerb',{\r\n                params:{\r\n                    id: this.currentherb.id\r\n                }\r\n            }).then(res=>{\r\n                if(res.status == 200){\r\n                    this.$message({\r\n                        type: 'success',\r\n                        message: '删除成功!'\r\n                    });\r\n                }\r\n                this.getNotApprovalHerbInfo()\r\n            })\r\n            }).catch(() => {\r\n              this.$message({\r\n                  type: 'info',\r\n                  message: '已取消删除'\r\n              });          \r\n            });\r\n          },\r\n          //审核通过（1为审核通过，2为审核不通过，0为正在审核中）\r\n          HerbApproval(){\r\n            this.$axios.post('/admin/approvalSuccessHerbInfo',{id:this.currentHerb.id}).then(res=>{\r\n              if(res.status == 200){\r\n                this.$message({\r\n                    type: 'success',\r\n                    message: '审核通过!'\r\n                });\r\n              }\r\n            })\r\n            this.dialogFormVisible = false\r\n          },\r\n          //审核不通过\r\n        //   ArticleNotApproval(){\r\n        //     this.$axios.post('/admin/approvalFailure',{id:this.currentArticles.id}).then(res=>{\r\n        //       if(res.status == 200){\r\n        //         this.$message({\r\n        //           type:'success',\r\n        //           message:'审核不通过，该文章将被打回，无法发布。'\r\n        //         })\r\n        //       }\r\n        //     })\r\n        //     this.dialogFormVisible = false\r\n        //   }\r\n      }\r\n  }\r\n  </script>\r\n  \r\n  <style>\r\n  .headerBg{\r\n    background: #ddd !important;\r\n  }\r\n  /* 上传图片 */\r\n.avatar-uploader .el-upload {\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n  .avatar-uploader .el-upload:hover {\r\n    border-color: #409EFF;\r\n  }\r\n  .avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    line-height: 178px;\r\n    text-align: center;\r\n  }\r\n  .avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    display: block;\r\n  }\r\n  </style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=71a98c80&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=71a98c80&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","herbList","headerBg","scopedSlots","_u","key","fn","row","$index","staticStyle","on","$event","approvalHerb","_v","staticClass","deleteHerbInfo","pageSizes","pageSize","currentPage","total","handleCurrentChange","handleSizeChange","dialogFormVisible","currentHerb","model","value","herbname","callback","$$v","$set","expression","herbtype","city","content","slot","HerbApproval","staticRenderFns","name","data","imageUrl","mounted","methods","getNotApprovalHerbInfo","params","getNotApprovalHerbInfoLength","console","confirmButtonText","cancelButtonText","type","id","message","component"],"sourceRoot":""}