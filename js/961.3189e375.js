"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[961],{1961:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-container"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[t("div",{staticClass:"logo"},[t("img",{staticStyle:{"background-size":"100% 100%",width:"100%",height:"100%"},attrs:{src:s(9701),alt:""}})]),t("el-form-item",{attrs:{prop:"username"}},[t("div",{staticClass:"el-container"},[t("span",{staticClass:"icon-container"},[t("i",{staticClass:"el-icon-user-solid"})]),t("el-input",{attrs:{placeholder:"请输入用户名",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1)]),t("el-form-item",{attrs:{prop:"password"}},[t("div",{staticClass:"el-container"},[t("span",{staticClass:"icon-container"},[t("i",{staticClass:"el-icon-lock"})]),t("el-input",{key:"password",ref:"password",attrs:{type:"password",placeholder:"请输入密码",name:"password",tabindex:"2","auto-complete":"on","show-password":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1)]),t("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin("loginForm")}}},[e._v("登录")]),t("div",{staticClass:"tips"},[t("span",{staticStyle:{"margin-right":"20px"}},[e._v("后台管理系统")]),t("span",[e._v(" 需要管理员身份用户")]),t("h5",[e._v("管理员测试账号（用户名：guoqian123 密码：abc123）")])])],1)],1)},o=[],r=(s(7658),s(3822)),n={data(){const e=(e,t,s)=>{""===t?s(new Error("Please enter the correct user name")):s()},t=(e,t,s)=>{t.length<6?s(new Error("The password can not be less than 6 digits")):s()};return{loginForm:{username:"",password:""},loginRules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"},{pattern:/^(?!(\d+)$)[a-zA-Z\d_]{4,20}$/,message:"账号长度4-20，必须包括数字、字母，可包括下划线",trigger:"blur"},{validator:e}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{pattern:/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/,message:"密码长度为6-20位，必须且只能包括数字、字母",trigger:"blur"},{validator:t}]},loading:!1,redirect:void 0}},methods:{...(0,r.OI)(["updateToken"]),handleLogin(e){this.$refs[e].validate((e=>{if(!e)return this.$message({type:"warning",message:"用户登录失败，请重试！"}),console.log("error submit !!!"),!1;this.loading=!0,this.$axios.post("/api/backlogin",this.loginForm).then((e=>{if(0==e.status){this.$message({type:"success",message:"用户登录成功"}),this.updateToken(e.token),localStorage.setItem("token",e.token);const t=localStorage.getItem("token");this.$store.commit("updateToken",t),this.$store.dispatch("getUserInfoActions"),this.$router.push({path:this.redirect||"/"})}else 1==e.status?this.$message.error({message:"登陆失败！请检查用户名或密码是否正确！"}):this.$message({type:"warning",message:"未知错误！"})}))}))}}},i=n,l=s(1001),c=(0,l.Z)(i,a,o,!1,null,"3f4ffaf6",null),p=c.exports},9701:function(e,t,s){e.exports=s.p+"img/logo大.dc542f9b.png"}}]);
//# sourceMappingURL=961.3189e375.js.map